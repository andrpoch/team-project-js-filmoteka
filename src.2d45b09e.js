parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"clu1":[function(require,module,exports) {

},{"/home/runner/work/team-project-js-tmdb/team-project-js-tmdb/src/images/header-overlay/header-overlay-sm.png":[["header-overlay-sm.840d43f0.png","Um2M"],"Um2M"],"/home/runner/work/team-project-js-tmdb/team-project-js-tmdb/src/images/header-overlay/header-overlay-sm.webp":[["header-overlay-sm.f7d4ea2d.webp","hXVZ"],"hXVZ"],"/home/runner/work/team-project-js-tmdb/team-project-js-tmdb/src/images/header-overlay/header-overlay@2x-sm.png":[["header-overlay@2x-sm.5a678596.png","mb7Y"],"mb7Y"],"/home/runner/work/team-project-js-tmdb/team-project-js-tmdb/src/images/header-overlay/header-overlay@2x-sm.webp":[["header-overlay@2x-sm.e4ea1eb8.webp","tz3f"],"tz3f"],"/home/runner/work/team-project-js-tmdb/team-project-js-tmdb/src/images/header-overlay/header-overlay-md.png":[["header-overlay-md.2a55343a.png","TkBZ"],"TkBZ"],"/home/runner/work/team-project-js-tmdb/team-project-js-tmdb/src/images/header-overlay/header-overlay-md.webp":[["header-overlay-md.1216b15b.webp","bgBo"],"bgBo"],"/home/runner/work/team-project-js-tmdb/team-project-js-tmdb/src/images/header-overlay/header-overlay@2x-md.png":[["header-overlay@2x-md.8f54a3e2.png","xsgq"],"xsgq"],"/home/runner/work/team-project-js-tmdb/team-project-js-tmdb/src/images/header-overlay/header-overlay@2x-md.webp":[["header-overlay@2x-md.3e31db57.webp","B0Y5"],"B0Y5"],"/home/runner/work/team-project-js-tmdb/team-project-js-tmdb/src/images/header-overlay/header-overlay-lg.png":[["header-overlay-lg.d5a84df3.png","XNPU"],"XNPU"],"/home/runner/work/team-project-js-tmdb/team-project-js-tmdb/src/images/header-overlay/header-overlay-lg.webp":[["header-overlay-lg.c9888e7b.webp","aZP8"],"aZP8"],"/home/runner/work/team-project-js-tmdb/team-project-js-tmdb/src/images/header-overlay/header-overlay@2x-lg.png":[["header-overlay@2x-lg.16b33a74.png","s8PF"],"s8PF"],"/home/runner/work/team-project-js-tmdb/team-project-js-tmdb/src/images/header-overlay/header-overlay@2x-lg.webp":[["header-overlay@2x-lg.e237ee68.webp","FAwF"],"FAwF"],"/home/runner/work/team-project-js-tmdb/team-project-js-tmdb/src/images/header-myLib/myLib-overlay-sm.png":[["myLib-overlay-sm.848fc440.png","ARfp"],"ARfp"],"/home/runner/work/team-project-js-tmdb/team-project-js-tmdb/src/images/header-myLib/myLib-overlay-sm.webp":[["myLib-overlay-sm.ca192496.webp","tsQ0"],"tsQ0"],"/home/runner/work/team-project-js-tmdb/team-project-js-tmdb/src/images/header-myLib/myLib-overlay@2x-sm.png":[["myLib-overlay@2x-sm.d852291d.png","AZFY"],"AZFY"],"/home/runner/work/team-project-js-tmdb/team-project-js-tmdb/src/images/header-myLib/myLib-overlay@2x-sm.webp":[["myLib-overlay@2x-sm.1f51cc45.webp","xQiJ"],"xQiJ"],"/home/runner/work/team-project-js-tmdb/team-project-js-tmdb/src/images/header-myLib/myLib-overlay-md.png":[["myLib-overlay-md.17d62629.png","sOou"],"sOou"],"/home/runner/work/team-project-js-tmdb/team-project-js-tmdb/src/images/header-myLib/myLib-overlay-md.webp":[["myLib-overlay-md.a70ec61a.webp","UX3C"],"UX3C"],"/home/runner/work/team-project-js-tmdb/team-project-js-tmdb/src/images/header-myLib/myLib-overlay@2x-md.png":[["myLib-overlay@2x-md.b92fc9db.png","unMt"],"unMt"],"/home/runner/work/team-project-js-tmdb/team-project-js-tmdb/src/images/header-myLib/myLib-overlay@2x-md.webp":[["myLib-overlay@2x-md.9cbdd26c.webp","PNH5"],"PNH5"],"/home/runner/work/team-project-js-tmdb/team-project-js-tmdb/src/images/header-myLib/myLib-overlay-lg.png":[["myLib-overlay-lg.d687fc9a.png","PrgC"],"PrgC"],"/home/runner/work/team-project-js-tmdb/team-project-js-tmdb/src/images/header-myLib/myLib-overlay-lg.webp":[["myLib-overlay-lg.aa360a5a.webp","bcXp"],"bcXp"],"/home/runner/work/team-project-js-tmdb/team-project-js-tmdb/src/images/header-myLib/myLib-overlay@2x-lg.png":[["myLib-overlay@2x-lg.d52e1f86.png","V2CG"],"V2CG"],"/home/runner/work/team-project-js-tmdb/team-project-js-tmdb/src/images/header-myLib/myLib-overlay@2x-lg.webp":[["myLib-overlay@2x-lg.666914d0.webp","E3HI"],"E3HI"]}],"SseF":[function(require,module,exports) {
"use strict";function e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t(e,t,i){return r(e,a(e,t,"set"),i),i}function r(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}function i(e,t){return u(e,a(e,t,"get"))}function a(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function n(e,t,r){return o(e,t),s(r,"get"),u(e,r)}function s(e,t){if(void 0===e)throw new TypeError("attempted to "+t+" private static field before its declaration")}function o(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}function u(e,t){return t.get?t.get.call(e):t.value}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var h=new WeakMap,c=new WeakMap,l=new WeakMap,g=new WeakMap;class p{constructor(){h.set(this,{writable:!0,value:1}),c.set(this,{writable:!0,value:p.ENDPOINTS.TRENDING}),l.set(this,{writable:!0,value:void 0}),g.set(this,{writable:!0,value:void 0}),e(this,"getData",async(e,t="")=>{const r=`${n(p,p,v)}${e}?${t}&${n(p,p,w)}`,i=await fetch(r);return i.ok?i.json():Promise.reject(i.statusText)}),e(this,"getCategory",()=>{const e=new URLSearchParams({page:i(this,h)});return this.getData(i(this,c),e)}),e(this,"searchMovies",()=>{const e=new URLSearchParams({query:i(this,l),page:i(this,h)});return this.getData(p.ENDPOINTS.SEARCH_MOVIES,e)}),e(this,"getMovie",()=>{const e=new URLSearchParams({append_to_response:"videos"}),t=`${p.ENDPOINTS.GET_MOVIE}/${i(this,g)}`;return this.getData(t,e)}),e(this,"getGenres",()=>{const e=`${p.ENDPOINTS.GENRES}`;return this.getData(e).then(e=>e.genres)}),e(this,"getGenres",()=>{const e=`${p.ENDPOINTS.GENRES}`;return this.getData(e).then(e=>e.genres)}),e(this,"resetPage",()=>{t(this,h,1)}),e(this,"incrementPage",()=>{t(this,h,i(this,h)+1)})}get page(){return i(this,h)}set page(e){t(this,h,e)}get query(){return i(this,l)}set query(e){t(this,l,e)}get id(){return i(this,g)}set id(e){t(this,g,e)}get endpoint(){return i(this,c)}set endpoint(e){t(this,c,e)}}exports.default=p;var d={writable:!0,value:"fadfbb72581e18342bb7490adda20bdd"},v={writable:!0,value:"https://api.themoviedb.org/3"};e(p,"ENDPOINTS",{TRENDING:"/trending/movie/day",NOW_PLAYING:"/movie/now_playing",TOP_RATED:"/movie/top_rated",UPCOMING:"/movie/upcoming",SEARCH_MOVIES:"/search/movie",GET_MOVIE:"/movie",GENRES:"/genre/movie/list"});var w={writable:!0,value:new URLSearchParams({api_key:n(p,p,d),include_adult:!1})};
},{}],"rD6f":[function(require,module,exports) {
"use strict";function e(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class t{constructor(t){e(this,"save",e=>{try{window.localStorage.setItem(this.key,JSON.stringify(e))}catch(t){return null}}),e(this,"get",()=>{try{return JSON.parse(window.localStorage.getItem(this.key))}catch(e){return null}}),e(this,"remove",()=>{try{return localStorage.removeItem(this.key)}catch(e){return null}}),e(this,"saveMovie",e=>{const t=[e,...this.get()||[]];this.save(t)}),e(this,"deleteMovie",e=>{const t=this.get(),i=null==t?void 0:t.filter(t=>t.id!==e);this.save(i)}),e(this,"checkMovie",e=>{const t=this.get();return!!(null==t?void 0:t.find(t=>t.id===e))}),this.key=t}}exports.default=t,e(t,"KEYS",{MOVIES:"filmoteka/movies",WATCHED:"filmoteka/watched",QUEUED:"filmoteka/queued",GENRES:"filmoteka/genres",THEME:"filmoteka/theme"});
},{}],"siYH":[function(require,module,exports) {
"use strict";function t(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function e(t,e){return n(t,r(t,e,"get"))}function i(t,e,i){return a(t,e),s(i,"get"),n(t,i)}function s(t,e){if(void 0===t)throw new TypeError("attempted to "+e+" private static field before its declaration")}function a(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}function n(t,e){return e.get?e.get.call(t):e.value}function h(t,e,i){return o(t,r(t,e,"set"),i),i}function r(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}function o(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var l=new WeakMap,d=new WeakMap,c=new WeakMap,u=new WeakMap,g=new WeakMap;class f{constructor({page:s=1,totalPages:a=1,callback:n=(()=>{})}){l.set(this,{writable:!0,value:void 0}),d.set(this,{writable:!0,value:void 0}),c.set(this,{writable:!0,value:void 0}),u.set(this,{writable:!0,value:void 0}),g.set(this,{writable:!0,value:void 0}),t(this,"handlePaginationClick",t=>{const s=t.target.dataset.btn?t.target:t.target.closest("BUTTON");switch(null==s?void 0:s.dataset.btn){case i(f,f,p).PREV:if(1===e(this,l))return;this.goToPage(e(this,l)-1),e(this,c).call(this,e(this,l));break;case i(f,f,p).NEXT:if(e(this,l)===e(this,d))return;this.goToPage(e(this,l)+1),e(this,c).call(this,e(this,l));break;case i(f,f,p).PAGE:const a=this.getTargetPage(t.target);if(a===e(this,l))return;this.goToPage(a),e(this,c).call(this,e(this,l));break;default:return}}),t(this,"goToPage",t=>{t>1&&t<e(this,d)?h(this,l,t):h(this,l,t<=1?1:e(this,d)),h(this,u,e(this,l)-2>1?e(this,l)-2:1),h(this,g,e(this,l)+2<e(this,d)?e(this,l)+2:e(this,d)),this.handleButtonsAndDots(),this.createList()}),t(this,"handleButtonsAndDots",()=>{const t=[...this.getButtonsRef()];e(this,u)<=1?this.hideElement(t[0]):this.showElement(t[0]),e(this,u)<3?this.hideElement(this.refs.dots[0]):this.showElement(this.refs.dots[0]),e(this,g)>=e(this,d)?this.hideElement(t.at(-1)):this.showElement(t.at(-1)),e(this,g)>e(this,d)-2?this.hideElement(this.refs.dots[1]):this.showElement(this.refs.dots[1]),1===e(this,l)?this.refs.prev.disabled=!0:this.refs.prev.disabled=!1,e(this,l)===e(this,d)?this.refs.next.disabled=!0:this.refs.next.disabled=!1}),t(this,"hideElement",t=>{t.classList.add("is-hidden")}),t(this,"showElement",t=>{t.classList.remove("is-hidden")}),t(this,"hidePagination",()=>{this.hideElement(this.refs.pagination)}),t(this,"showPagination",()=>{this.showElement(this.refs.pagination)}),t(this,"getTargetPage",t=>{const i=[...this.getButtonsRef()],s=i.findIndex(e=>e===t);return 0===s?1:s===i.length-1?e(this,d):s-1+e(this,u)}),t(this,"getButtonsRef",()=>document.querySelectorAll('[data-btn="page"]')),t(this,"createList",()=>{this.refs.container.innerHTML="";let t="",i=e(this,u)<1?1:e(this,u),s=e(this,g)>e(this,d)?e(this,d):e(this,g);for(let e=i;e<=s;e+=1)t+=this.createLinkMarkup(e);this.refs.container.insertAdjacentHTML("beforeend",t)}),t(this,"createLinkMarkup",t=>{return`<span class="pagination__button ${t===e(this,l)?"pagination__button--active":""}" data-btn="page">${t}</span>`}),this.refs={prev:document.querySelector('[data-btn="prev"]'),next:document.querySelector('[data-btn="next"]'),pagination:document.querySelector(".pagination"),container:document.querySelector(".pagination__container"),dots:document.querySelectorAll(".dots")},this.refs.pagination.addEventListener("click",this.handlePaginationClick),h(this,d,a),h(this,c,n),this.getButtonsRef()[1].textContent=a,this.goToPage(s)}get page(){return e(this,l)}set page(t){h(this,l,t)}get totalPages(){return e(this,d)}set totalPages(t){h(this,d,t),[...this.getButtonsRef()].at(-1).textContent=e(this,d),this.goToPage(e(this,l))}get callback(){return e(this,c)}set callback(t){h(this,c,t)}}exports.default=f;var p={writable:!0,value:{PREV:"prev",NEXT:"next",PAGE:"page"}};
},{}],"ZIzE":[function(require,module,exports) {
"use strict";function e(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Modal=void 0;class o{constructor(o){var t;e(this,"onModalOpenBtnClick",()=>{this.openModal(),this.refs.closeBtn.addEventListener("click",this.closeModal),this.refs.modal.addEventListener("click",this.onBackdropClick),document.addEventListener("keydown",this.onEscDown)}),e(this,"openModal",()=>{this.refs.modal.classList.remove("is-hidden"),document.body.classList.add("modal-open")}),e(this,"closeModal",()=>{this.refs.modal.classList.add("is-hidden"),document.body.classList.remove("modal-open"),this.refs.closeBtn.removeEventListener("click",this.closeModal),this.refs.modal.removeEventListener("click",this.onBackdropClick),document.removeEventListener("keydown",this.onEscDown)}),e(this,"onBackdropClick",e=>{e.target===this.refs.modal&&this.closeModal()}),e(this,"onEscDown",e=>{"Escape"===e.code&&this.closeModal()}),this.refs={modal:document.querySelector(`[data-modal="${o}"]`),openBtn:document.querySelector(`[data-modal-open="${o}"]`),openBtnSecond:document.querySelector(`[data-modal-open="${o}-second"]`),closeBtn:document.querySelector(`[data-modal-close="${o}"]`)},this.refs.openBtn.addEventListener("click",this.onModalOpenBtnClick),null===(t=this.refs.openBtnSecond)||void 0===t||t.addEventListener("click",this.onModalOpenBtnClick)}}exports.Modal=o;
},{}],"d5bL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getGenresNames=r;var e=require("../services");function r(r){const t=e.genresStorage.get();return r.map(e=>{const{name:r}=t.find(r=>r.id===e);return r})}
},{"../services":"XXZN"}],"XXZN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"ApiTMDB",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"Modal",{enumerable:!0,get:function(){return o.Modal}}),Object.defineProperty(exports,"getGenresNames",{enumerable:!0,get:function(){return a.getGenresNames}}),exports.pagination=exports.themeStorage=exports.watchedStorage=exports.queuedStorage=exports.moviesStorage=exports.genresStorage=exports.api=void 0;var e=n(require("./apiTMDB")),t=n(require("./storage")),r=n(require("./pagination")),o=require("./modal"),a=require("./getGenresNames");function n(e){return e&&e.__esModule?e:{default:e}}const s=new e.default;exports.api=s;const u=new t.default(t.default.KEYS.GENRES);exports.genresStorage=u;const p=new t.default(t.default.KEYS.MOVIES);exports.moviesStorage=p;const d=new t.default(t.default.KEYS.QUEUED);exports.queuedStorage=d;const i=new t.default(t.default.KEYS.WATCHED);exports.watchedStorage=i;const l=new t.default(t.default.KEYS.THEME);exports.themeStorage=l;const f=new r.default({});exports.pagination=f;
},{"./apiTMDB":"SseF","./storage":"rD6f","./pagination":"siYH","./modal":"ZIzE","./getGenresNames":"d5bL"}],"pQa5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./services");async function r(){try{const t=await e.api.getGenres();e.genresStorage.save(t)}catch(r){console.error(r)}}var t=r;exports.default=t;
},{"./services":"XXZN"}],"qwQt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var e=require("./services");const t={root:document.querySelector(":root"),button:document.querySelector(".theme"),light:document.querySelector('[data-theme="light"]'),dark:document.querySelector('[data-theme="dark"]')},o={SCHEME:"color-scheme",LIGHT:"light",DARK:"dark"};function r(e){e===o.LIGHT?(t.light.classList.add("active"),t.dark.classList.remove("active")):(t.dark.classList.add("active"),t.light.classList.remove("active")),t.root.setAttribute(o.SCHEME,e)}function c(){const t=window.matchMedia(`(prefers-${o.SCHEME}: ${o.LIGHT})`).matches?o.LIGHT:o.DARK,r=e.themeStorage.get();return r||t}function a(){const t=c()===o.LIGHT?o.DARK:o.LIGHT;e.themeStorage.save(t),r(t)}function i(){r(c())}function n(){t.button.addEventListener("click",a),window.addEventListener("DOMContentLoaded",i)}
},{"./services":"XXZN"}],"Foml":[function(require,module,exports) {
module.exports="/team-project-js-tmdb/poster-img.674c3aee.jpg";
},{}],"JmWp":[function(require,module,exports) {
module.exports="/team-project-js-tmdb/poster-img@2x.92ab66f1.jpg";
},{}],"iDx7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.renderMarkup=void 0;var e=require("../services"),r=n(require("../../images/film_card/poster-img.jpg")),t=n(require("../../images/film_card/poster-img@2x.jpg"));function n(e){return e&&e.__esModule?e:{default:e}}const i=document.querySelector(".gallery"),s=n=>n.map(({title:n,release_date:i,first_air_date:s,poster_path:a,id:o,genre_ids:d,genres:c,vote_average:l})=>{const p=d?(0,e.getGenresNames)(d):c.map(({name:e})=>e),m=new Date(i||s).getFullYear()||"",g=a?`https://image.tmdb.org/t/p/w500${a}`:t.default,u=a?`https://image.tmdb.org/t/p/w300${a}`:r.default;let v="N/A";return l&&(v=10===l?"10.0":String(l).padEnd(3,".0")),`\n      <li class="card-item" data-id="${o}">\n        <picture>\n          <source\n          srcset="\n          ${u} 1x,\n          ${g} 2x,\n          " \n        />\n        <img class="movie-img"\n        src="${u}"\n        alt="${n}"\n        width="280"\n        height="398"\n        />\n        </picture>\n        <div class = "movie-card">\n        <h5 class="movie-title">${n}</h5>\n        <div class="container_movie-info">\n        <p class="movie-info">${p.join(", ")||"No genres found"} | ${m}</p>\n        <p class="movie-rating">${v}</p>\n        </div>\n        </div>\n        </li>\n        `}).join(""),a=e=>{const r=s(e);i.insertAdjacentHTML("beforeend",r)};exports.renderMarkup=a;
},{"../services":"XXZN","../../images/film_card/poster-img.jpg":"Foml","../../images/film_card/poster-img@2x.jpg":"JmWp"}],"rTmS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./templates/film_card"),t=require("./services");const a={gallery:document.querySelector(".gallery"),categories:document.querySelector(".gallery-categories"),loader:document.querySelector(".loader")};function r(e){if(e.target===e.currentTarget)return;const a=e.target.dataset.endpoint;t.ApiTMDB.ENDPOINTS[a]&&(t.api.endpoint=t.ApiTMDB.ENDPOINTS[a]),n(),i();const r=e.currentTarget.querySelector(".btn--on");null==r||r.classList.replace("btn--on","btn--off"),e.target.classList.replace("btn--off","btn--on")}a.categories.addEventListener("click",r);const n=()=>{t.api.resetPage(),a.gallery.innerHTML=""};async function i(){try{const r=await o();t.pagination.page=t.api.page,t.pagination.totalPages=r,t.pagination.callback=s,t.pagination.showPagination()}catch(e){console.log(e.message),a.loader.classList.add("is-hidden")}}async function o(){a.loader.classList.remove("is-hidden");const{results:r,total_pages:n}=await t.api.getCategory();return a.gallery.innerHTML=" ",a.categories.classList.remove("is-hidden"),(0,e.renderMarkup)(r),a.loader.classList.add("is-hidden"),n}async function s(){try{t.api.page=t.pagination.page,await o(),a.gallery.scrollIntoView()}catch(e){console.log(e)}}var c=i;exports.default=c;
},{"./templates/film_card":"iDx7","./services":"XXZN"}],"WbZe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.search=exports.handleSearch=void 0;var e=require("./templates/film_card"),a=require("./services");const r=document.querySelector(".header-form"),t=document.querySelector(".gallery-info"),s=document.querySelector(".gallery"),i=document.querySelector(".gallery-categories"),n=document.querySelector(".loader"),o="Search is not successful. Enter the correct movie name.",c=e=>{a.api.page=e,n.classList.remove("is-hidden"),a.api.searchMovies().then(e=>{l(e),s.scrollIntoView()}).catch(d)};exports.handleSearch=c;const l=({results:r,total_pages:i})=>{t.innerHTML="",s.innerHTML="",(0,e.renderMarkup)(r),a.moviesStorage.save(r),a.pagination.callback=c,a.pagination.page=a.api.page,a.pagination.totalPages=i,n.classList.add("is-hidden")},d=e=>{s.innerHTML="",a.pagination.hidePagination(),n.classList.add("is-hidden"),e?console.error(e):t.innerHTML=o},p=async e=>{e.preventDefault();const r=e.target.elements.search.value.trim();if(r){a.api.page=1,a.api.query=r;try{i.classList.add("is-hidden"),n.classList.remove("is-hidden");const r=await a.api.searchMovies();if(!r.results.length)return void d();l(r),a.pagination.showPagination(),e.target.reset()}catch(t){d(t)}}},u=()=>{r.addEventListener("submit",p)};exports.search=u;
},{"./templates/film_card":"iDx7","./services":"XXZN"}],"VTkq":[function(require,module,exports) {
module.exports="/team-project-js-tmdb/poster-big.53fc0bcd.jpg";
},{}],"STLe":[function(require,module,exports) {
module.exports="/team-project-js-tmdb/poster-big@2x.410f5b09.jpg";
},{}],"d3pQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var e=s(require("../../images/film_card/poster-img.jpg")),t=s(require("../../images/film_card/poster-big.jpg")),i=s(require("../../images/film_card/poster-big@2x.jpg")),n=s(require("../../images/film_card/poster-img@2x.jpg"));function s(e){return e&&e.__esModule?e:{default:e}}function a(s){var a;const{title:l,poster_path:o,genres:r,vote_average:m,vote_count:c,original_title:d,overview:p,popularity:u,watched:_,queued:v,videos:g}=s,b=r.map(e=>e.name).join(", "),f=o?`https://image.tmdb.org/t/p/w342${o}`:e.default,h=o?`https://image.tmdb.org/t/p/w500${o}`:i.default,$=o?`https://image.tmdb.org/t/p/w500${o}`:t.default,w=o?`https://image.tmdb.org/t/p/w780${o}`:n.default;let y=g.results.find(e=>"en"===e.iso_639_1&&"Trailer"===e.type);const x=null===(a=y=y||g.results[0])||void 0===a?void 0:a.key;return`<div class="modal__content">\n        <div class="poster__wrapper">\n            <picture>\n                <source\n                  srcset="\n                    ${f} 1x,\n                    ${h} 2x\n                  "\n                  media="(max-width:1023px)"\n                />\n                <source\n                  srcset="\n                    ${$} 1x,\n                    ${w} 2x\n                  "\n                  media="(min-width:1024px)"\n                />\n                <img class="poster__img" alt="${l}" src="${f}" loading="lazy" />\n              </picture>\n        </div>\n        <div class="movie">\n            <h2 class="movie__title uppercase">${l}</h2>\n            <div class="movie__statistic">\n                <ul class="movie__list--left">\n                    <li class="movie__item--left">Vote &#47 Votes\n                    </li>\n                    <li class="movie__item--left">Popularity\n                    </li>\n                    <li class="movie__item--left">Original Title\n                    </li>\n                    <li class="movie__item--left">Genre\n                    </li>\n                </ul>\n                <ul class="movie__list--right">\n                    <li class="movie__item--right">\n                        <span class="movie__average">${m}</span>\n                        <span>&#47</span>\n                        <span class="movie__count">${c}</span>\n                    </li>\n                    <li class="movie__item--right">${u}\n                    </li>\n                    <li class="movie__item--right uppercase">${d}\n                    </li>\n                    <li class="movie__item--right">${b}\n                    </li>\n                </ul>\n            </div>\n            <div class="movie__description">\n                <h3 class="movie__about uppercase">About</h3>\n                <p class="movie__text">${p}</p>\n            </div>\n            <div class="movie__btn buttons__container">\n                    <button type="button" class="btn--modal btn--on" data-btn="watched">${_?"Remove from":"Add to"} watched</button>\n                    <button type="button" class="btn--modal btn--on" data-btn="queue">${v?"Remove from":"Add to"} queue</button>\n                    ${x?'<button type="button" class="btn--modal btn--on" data-btn="trailer">Show trailer</button>':""}\n            </div>\n        </div>\n    </div>\n    ${x?`<div class="trailer is-hidden">\n      <iframe\n      class="trailer__iframe"\n      width="240"\n      height="135"\n      src="https://www.youtube.com/embed/${x}"\n      title="${y.type}"\n      frameborder="0"\n      allow="accelerometer;autoplay;clipboard-write;encrypted-media;gyroscope; picture-in-picture"\n      allowfullscreen>\n      </iframe>\n    </div>`:"<div></div>"}\n    `}
},{"../../images/film_card/poster-img.jpg":"Foml","../../images/film_card/poster-big.jpg":"VTkq","../../images/film_card/poster-big@2x.jpg":"STLe","../../images/film_card/poster-img@2x.jpg":"JmWp"}],"IzW2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.myLibrary=E,exports.renderWatched=L,exports.renderQueue=y,exports.MARKER=void 0;var e=require("./services"),t=require("./templates/film_card"),n=r(require("./popular_movies")),i=require("./searchFilms");function r(e){return e&&e.__esModule?e:{default:e}}const o={WATCHED:"watched",QUEUE:"queue"};exports.MARKER=o;const a=18;let s=1,c=!1;const l={myLibBtn:document.querySelector('[data-btn="myLibrary"]'),myLibA:document.querySelector('[data-a="myLibrary"]'),homeBtn:document.querySelector('[data-btn="home"]'),homeA:document.querySelector('[data-a="home"]'),watchedBtn:document.querySelector('[data-btn="watched"]'),queueBtn:document.querySelector('[data-btn="queue"]'),libBtnsContainer:document.querySelector(".buttons__container--header"),inputForm:document.querySelector(".header-form"),info:document.querySelector(".gallery-info"),gallery:document.querySelector(".gallery"),categories:document.querySelector(".gallery-categories"),header:document.querySelector(".header")};function d(){l.myLibA.classList.contains("current")||(v("current"),p("btn--on","btn--off"),l.libBtnsContainer.classList.remove("is-hidden"),l.inputForm.classList.add("is-hidden"),l.header.classList.add("myLib"),s=1,l.categories.classList.add("is-hidden"),c=!1,L(),c=!0,e.pagination.showPagination())}function u(e){l.gallery.classList.add(e)}function m(e){l.gallery.classList.remove(e)}function L(t){l.gallery.innerHTML="";const n=e.watchedStorage.get()||[];m(o.QUEUE),u(o.WATCHED),e.pagination.callback=L,h(g(n,t))}function y(t=1){l.gallery.innerHTML="";const n=e.queuedStorage.get()||[];m(o.WATCHED),u(o.QUEUE),e.pagination.callback=y,h(g(n,t))}function g(t,n){s=n||s;const i=Math.ceil(t.length/a);s=s>i?i:s,e.pagination.page=s,e.pagination.totalPages=i;const r=(s-1)*a;return t.slice(r,a*s)}function h(n){if(!n||0===n.length)return l.info.innerHTML="Please add something to library",void e.pagination.hidePagination();l.info.innerHTML="",(0,t.renderMarkup)(n),console.log(c),c&&l.gallery.scrollIntoView()}function f(){l.homeA.classList.contains("current")||(m(o.WATCHED),m(o.QUEUE),v("current"),l.libBtnsContainer.classList.add("is-hidden"),l.inputForm.classList.remove("is-hidden"),l.inputForm.elements.search.value="",l.header.classList.remove("myLib"),l.info.innerHTML="",l.categories.classList.remove("is-hidden"),(0,n.default)())}function b(){p("btn--on","btn--off"),s=1,c=!1,L(),c=!0}function q(){p("btn--off","btn--on"),s=1,c=!1,y(),c=!0}function p(e,t){l.watchedBtn.classList.add(e),l.watchedBtn.classList.remove(t),l.queueBtn.classList.add(t),l.queueBtn.classList.remove(e)}function v(e){l.myLibA.classList.toggle(e),l.homeA.classList.toggle(e)}function E(){l.myLibBtn.addEventListener("click",d),l.homeBtn.addEventListener("click",f),l.watchedBtn.addEventListener("click",b),l.queueBtn.addEventListener("click",q)}
},{"./services":"XXZN","./templates/film_card":"iDx7","./popular_movies":"rTmS","./searchFilms":"WbZe"}],"v6dG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./services"),t=n(require("./templates/film-modal")),o=require("./my_library");function n(e){return e&&e.__esModule?e:{default:e}}const r={QUEUE:"queue",WATCHED:"watched",TRAILER:"trailer",ADD:"Add to",REMOVE:"Remove from",SHOW:"Show",HIDE:"Hide"},c=document.querySelector('[data-modal="movie-one"]'),d=document.querySelector(".modal"),i=document.querySelector(".gallery"),s=document.querySelector('[data-modal-close="movie-one"]'),a=document.querySelector(".wrapper-modal"),u=document.querySelector(".loader");let l={},m=!1,v=!1,E=!1;function L(){a.innerHTML=""}const f=e=>{u.classList.add("is-hidden"),console.log(e.message)};async function h(o){const n=o.target.closest(".card-item");if(o.target===o.currentTarget||!n)return;const r=Number(n.dataset.id);u.classList.remove("is-hidden"),m=e.watchedStorage.checkMovie(r),v=e.queuedStorage.checkMovie(r),e.api.id=r;try{l=await e.api.getMovie(),a.insertAdjacentHTML("beforeend",(0,t.default)({...l,watched:m,queued:v})),y(),u.classList.add("is-hidden"),s.addEventListener("click",S),c.addEventListener("click",q),document.addEventListener("keydown",M),a.querySelector(".buttons__container").addEventListener("click",p)}catch(d){f(d)}}function y(){c.classList.remove("is-hidden"),document.body.classList.add("modal-open")}function S(){c.classList.add("is-hidden"),document.body.classList.remove("modal-open"),s.removeEventListener("click",g),c.removeEventListener("click",q),document.removeEventListener("keydown",M),a.querySelector(".buttons__container").removeEventListener("click",p),L()}function q(e){e.target===c&&S()}function M(e){"Escape"===e.code&&S()}function g(e){e.code===s&&S()}function p({target:t}){const n=t.dataset.btn;if(n)switch(n){case r.WATCHED:return m?e.watchedStorage.deleteMovie(l.id):e.watchedStorage.saveMovie(l),m=!m,A(t),void(i.classList.contains(o.MARKER.WATCHED)&&(0,o.renderWatched)());case r.QUEUE:return v?e.queuedStorage.deleteMovie(l.id):e.queuedStorage.saveMovie(l),v=!v,R(t),void(i.classList.contains(o.MARKER.QUEUE)&&(0,o.renderQueue)());case r.TRAILER:const c=document.querySelector(".trailer");return E?(d.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>c.classList.add("is-hidden"),250)):(c.classList.remove("is-hidden"),setTimeout(()=>d.scrollTo({top:500,behavior:"smooth"}),250)),E=!E,void T(t);default:return}}function A(e){e.textContent=`${m?r.REMOVE:r.ADD} ${r.WATCHED}`}function R(e){e.textContent=`${v?r.REMOVE:r.ADD} ${r.QUEUE}`}function T(e){e.textContent=`${E?r.HIDE:r.SHOW} ${r.TRAILER}`}function D(){i.addEventListener("click",h)}var b=D;exports.default=b;
},{"./services":"XXZN","./templates/film-modal":"d3pQ","./my_library":"IzW2"}],"QAGW":[function(require,module,exports) {
module.exports="/team-project-js-tmdb/sprite.ad389dce.svg";
},{}],"e4yY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../images/sprite.svg"));function t(e){return e&&e.__esModule?e:{default:e}}const n={header:document.querySelector(".header"),footer:document.querySelector(".footer")},r={UP:"up",DOWN:"down",CLASS:"btn-up",HIDDEN:"is-hidden"},o=new IntersectionObserver(u,{threshold:0});function s(t){const n=document.createElement("button"),o=t===r.UP?r.UP:r.DOWN;return n.setAttribute("data-direction",o),n.setAttribute("aria-label",`Scroll page ${t}`),n.classList.add(`${r.CLASS}__btn`,r.HIDDEN),n.innerHTML=`\n    <svg class="${r.CLASS}__svg" width="32" height="32">\n      <use href="${e.default}#icon-circle-${t}"></use>\n    </svg>\n  `,n}function d(){n.upBtn=s(r.UP),n.downBtn=s(r.DOWN);const e=document.createElement("div");e.classList.add(r.CLASS),e.appendChild(n.upBtn),e.appendChild(n.downBtn),document.querySelector("main").appendChild(e),e.addEventListener("click",i)}function i(e){const t=e.target.dataset.direction?e.target:e.target.closest("BUTTON");switch(null==t?void 0:t.dataset.direction){case r.UP:return void n.header.scrollIntoView();case r.DOWN:return void n.footer.scrollIntoView();default:return}}function a(e){e===n.header?n.upBtn.classList.add(r.HIDDEN):n.downBtn.classList.add(r.HIDDEN)}function c(e){e===n.header?n.upBtn.classList.remove(r.HIDDEN):n.downBtn.classList.remove(r.HIDDEN)}function u(e){e.forEach(({isIntersecting:e,target:t})=>{e?a(t):c(t)})}function l(){d(),o.observe(n.header),o.observe(n.footer)}var f=l;exports.default=f;
},{"../images/sprite.svg":"QAGW"}],"QdeU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var e=d(require("./genres")),r=d(require("./theme")),u=d(require("./popular_movies")),a=require("./searchFilms"),t=d(require("./film-modal")),i=require("./my_library"),l=d(require("./up-btn")),s=require("./services/modal");function d(e){return e&&e.__esModule?e:{default:e}}async function o(){(0,r.default)(),await(0,e.default)(),await(0,u.default)(),(0,a.search)(),(0,t.default)(),(0,i.myLibrary)(),(0,l.default)(),new s.Modal("team")}
},{"./genres":"pQa5","./theme":"qwQt","./popular_movies":"rTmS","./searchFilms":"WbZe","./film-modal":"v6dG","./my_library":"IzW2","./up-btn":"e4yY","./services/modal":"ZIzE"}],"Focm":[function(require,module,exports) {
"use strict";require("./sass/main.scss");var e=s(require("./js/app"));function s(e){return e&&e.__esModule?e:{default:e}}(0,e.default)();
},{"./sass/main.scss":"clu1","./js/app":"QdeU"}]},{},["Focm"], null)
//# sourceMappingURL=/team-project-js-tmdb/src.2d45b09e.js.map